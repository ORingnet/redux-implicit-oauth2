!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ReduxImplicitOAuth2=t():e.ReduxImplicitOAuth2=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.authReducer=t.authMiddleware=t.logout=t.login=t.LOGOUT=t.LOGIN_FAILURE=t.LOGIN_SUCCESS=t.LOGIN_REQUEST=void 0;var o=n(1),i=n(4),u=r(i),c=n(6),a=r(c);t.LOGIN_REQUEST=o.LOGIN_REQUEST,t.LOGIN_SUCCESS=o.LOGIN_SUCCESS,t.LOGIN_FAILURE=o.LOGIN_FAILURE,t.LOGOUT=o.LOGOUT,t.login=o.login,t.logout=o.logout,t.authMiddleware=u.default,t.authReducer=a.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.logout=t.login=t.LOGOUT=t.LOGIN_FAILURE=t.LOGIN_SUCCESS=t.LOGIN_REQUEST=void 0;var o=n(5),i=r(o),u=t.LOGIN_REQUEST="LOGIN_REQUEST",c=t.LOGIN_SUCCESS="LOGIN_SUCCESS",a=t.LOGIN_FAILURE="LOGIN_FAILURE",f=t.LOGOUT="LOGOUT",l=function(){return{type:u}},s=function(e,t){return{type:c,token:e,expiresAt:t}},d=function(e){return{type:a,error:e}};t.login=function(e){return function(t){return t(l()),(0,i.default)(e).then(function(e){var n=e.token,r=e.expiresAt;return t(s(n,r))},function(e){return t(d(e))})}},t.logout=function(){return{type:f}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="token",r="expiresAt",o=t.getExpiresAt=function(){return window.localStorage.getItem(r)||null},i=(t.hasToken=function(){return null!==i()},t.getToken=function(){var e=o();return null===e||e>(new Date).getTime()?window.localStorage.getItem(n)||null:null});t.setToken=function(e,t){window.localStorage.setItem(n,e),window.localStorage.setItem(r,t)},t.removeToken=function(){window.localStorage.removeItem(n),window.localStorage.removeItem(r)}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(s===clearTimeout)return clearTimeout(e);if((s===r||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{return s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}function u(){v&&p&&(v=!1,p.length?m=p.concat(m):g=-1,m.length&&c())}function c(){if(!v){var e=o(u);v=!0;for(var t=m.length;t;){for(p=m,m=[];++g<t;)p&&p[g].run();g=-1,t=m.length}p=null,v=!1,i(e)}}function a(e,t){this.fun=e,this.array=t}function f(){}var l,s,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{s="function"==typeof clearTimeout?clearTimeout:r}catch(e){s=r}}();var p,m=[],v=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new a(e,t)),1!==m.length||v||o(c)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=f,d.addListener=f,d.once=f,d.off=f,d.removeListener=f,d.removeAllListeners=f,d.emit=f,d.prependListener=f,d.prependOnceListener=f,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1),i=function(){return function(e){return function(t){switch(t.type){case o.LOGIN_SUCCESS:(0,r.setToken)(t.token,t.expiresAt);break;case o.LOGIN_FAILURE:case o.LOGOUT:(0,r.removeToken)()}return e(t)}}};t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=r(o),u=n(9),c=r(u),a=n(8),f=r(a),l=n(7),s=r(l),d=function e(t,n,r,o){var u=void 0;try{u=t.location.hash}catch(e){}if(u){t.close();var c=i.default.parse(u.substr(1));if(c.state!==n&&o("Invalid state returned."),c.access_token){var a=c.expires_in?parseInt(c.expires_in):NaN,f={token:c.access_token,expiresAt:isNaN(a)?null:(new Date).getTime()+1e3*a};r(f)}else o(c.error||"Unknown error.")}else t.closed?o("Authentication was cancelled."):setTimeout(function(){return e(t,n,r,o)},100)},p=function(e,t,n,r){var o=void 0;try{o=e.contentWindow.location.hash}catch(e){}if(o){var u=i.default.parse(o.substr(1));if(u.state!==t&&r("Invalid state returned."),u.access_token){var c=u.expires_in?parseInt(u.expires_in):NaN,a={token:u.access_token,expiresAt:isNaN(c)?null:(new Date).getTime()+1e3*c};n(a)}else r(u.error||"Unknown error.")}else setTimeout(function(){return d(e,t,n,r)},100)},m=function(e){var t=(0,c.default)(),n=i.default.stringify({state:t,response_type:"token",client_id:e.client,scope:e.scope,redirect_uri:e.redirect});if(e.iframe)return new Promise(function(r,o){(0,s.default)(e.url+(e.url.indexOf("?")===-1?"?":"&")+n).then(function(e){p(e,t,r,o)}).catch(function(e){return o(e)})});var r=(0,f.default)(e.url+(e.url.indexOf("?")===-1?"?":"&")+n,"oauth2");return new Promise(function(e,n){return d(r,t,e,n)})};t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(2),i=n(1),u={isLoggedIn:(0,o.hasToken)(),token:(0,o.getToken)(),expiresAt:(0,o.getExpiresAt)(),error:null},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case i.LOGIN_SUCCESS:return r({},e,{isLoggedIn:!0,token:t.token,expiresAt:t.expiresAt,error:null});case i.LOGIN_FAILURE:return r({},e,{isLoggedIn:!1,token:null,expiresAt:null,error:t.error});case i.LOGOUT:return r({},e,{isLoggedIn:!1,token:null,expiresAt:null,error:null});default:return e}};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=r(o),u=function(e){return new Promise(function(t,n){var r=(0,i.default)(e);r.onload=function(){return t(r)},r.onerror=function(e){return n(e)}})};t.default=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="scrollbars=no,toolbar=no,location=no,titlebar=no,directories=no,status=no,menubar=no",r=function(e,t){var n=window.screenLeft||window.screenX,r=window.screenTop||window.screenY,o=n+window.innerWidth/2-e/2,i=r+window.innerHeight/2-t/2;return"width="+e+",height="+t+",top="+i+",left="+o},o=function(e,t){return window.open(e,t,n+","+r(400,400))};t.default=o},function(e,t,n){!function(t){"use strict";var n="cuid",r=0,o=4,i=36,u=Math.pow(i,o),c=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},a=function(){return c((Math.random()*u<<0).toString(i),o)},f=function(){return r=r<u?r:0,r++,r-1},l=function(){var e,t="c",n=(new Date).getTime().toString(i),r=l.fingerprint(),u=a()+a();return e=c(f().toString(i),o),t+n+e+r+u};l.slug=function(){var e,t=(new Date).getTime().toString(36),n=l.fingerprint().slice(0,1)+l.fingerprint().slice(-1),r=a().slice(-2);return e=f().toString(36).slice(-4),t.slice(-2)+e+n+r},l.globalCount=function(){var e=function(){var e,t=0;for(e in window)t++;return t}();return l.globalCount=function(){return e},e},l.fingerprint=function(){return c((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+l.globalCount().toString(36),4)},t.register?t.register(n,l):e.exports=l}(this.applitude||this)},function(e,t){"use strict";/**!
	 * is
	 * the definitive JavaScript type testing library
	 *
	 * @copyright 2013-2014 Enrico Marino / Jordan Harband
	 * @license MIT
	 */
var n,r=Object.prototype,o=r.hasOwnProperty,i=r.toString;"function"==typeof Symbol&&(n=Symbol.prototype.valueOf);var u=function(e){return e!==e},c={boolean:1,number:1,string:1,undefined:1},a=/^([A-Za-z0-9+\/]{4})*([A-Za-z0-9+\/]{4}|[A-Za-z0-9+\/]{3}=|[A-Za-z0-9+\/]{2}==)$/,f=/^[A-Fa-f0-9]+$/,l={};l.a=l.type=function(e,t){return typeof e===t},l.defined=function(e){return"undefined"!=typeof e},l.empty=function(e){var t,n=i.call(e);if("[object Array]"===n||"[object Arguments]"===n||"[object String]"===n)return 0===e.length;if("[object Object]"===n){for(t in e)if(o.call(e,t))return!1;return!0}return!e},l.equal=function(e,t){if(e===t)return!0;var n,r=i.call(e);if(r!==i.call(t))return!1;if("[object Object]"===r){for(n in e)if(!(l.equal(e[n],t[n])&&n in t))return!1;for(n in t)if(!(l.equal(e[n],t[n])&&n in e))return!1;return!0}if("[object Array]"===r){if(n=e.length,n!==t.length)return!1;for(;n--;)if(!l.equal(e[n],t[n]))return!1;return!0}return"[object Function]"===r?e.prototype===t.prototype:"[object Date]"===r&&e.getTime()===t.getTime()},l.hosted=function(e,t){var n=typeof t[e];return"object"===n?!!t[e]:!c[n]},l.instance=l.instanceof=function(e,t){return e instanceof t},l.nil=l.null=function(e){return null===e},l.undef=l.undefined=function(e){return"undefined"==typeof e},l.args=l.arguments=function(e){var t="[object Arguments]"===i.call(e),n=!l.array(e)&&l.arraylike(e)&&l.object(e)&&l.fn(e.callee);return t||n},l.array=Array.isArray||function(e){return"[object Array]"===i.call(e)},l.args.empty=function(e){return l.args(e)&&0===e.length},l.array.empty=function(e){return l.array(e)&&0===e.length},l.arraylike=function(e){return!!e&&!l.bool(e)&&o.call(e,"length")&&isFinite(e.length)&&l.number(e.length)&&e.length>=0},l.bool=l.boolean=function(e){return"[object Boolean]"===i.call(e)},l.false=function(e){return l.bool(e)&&Boolean(Number(e))===!1},l.true=function(e){return l.bool(e)&&Boolean(Number(e))===!0},l.date=function(e){return"[object Date]"===i.call(e)},l.date.valid=function(e){return l.date(e)&&!isNaN(Number(e))},l.element=function(e){return void 0!==e&&"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},l.error=function(e){return"[object Error]"===i.call(e)},l.fn=l.function=function(e){var t="undefined"!=typeof window&&e===window.alert;if(t)return!0;var n=i.call(e);return"[object Function]"===n||"[object GeneratorFunction]"===n||"[object AsyncFunction]"===n},l.number=function(e){return"[object Number]"===i.call(e)},l.infinite=function(e){return e===1/0||e===-(1/0)},l.decimal=function(e){return l.number(e)&&!u(e)&&!l.infinite(e)&&e%1!==0},l.divisibleBy=function(e,t){var n=l.infinite(e),r=l.infinite(t),o=l.number(e)&&!u(e)&&l.number(t)&&!u(t)&&0!==t;return n||r||o&&e%t===0},l.integer=l.int=function(e){return l.number(e)&&!u(e)&&e%1===0},l.maximum=function(e,t){if(u(e))throw new TypeError("NaN is not a valid value");if(!l.arraylike(t))throw new TypeError("second argument must be array-like");for(var n=t.length;--n>=0;)if(e<t[n])return!1;return!0},l.minimum=function(e,t){if(u(e))throw new TypeError("NaN is not a valid value");if(!l.arraylike(t))throw new TypeError("second argument must be array-like");for(var n=t.length;--n>=0;)if(e>t[n])return!1;return!0},l.nan=function(e){return!l.number(e)||e!==e},l.even=function(e){return l.infinite(e)||l.number(e)&&e===e&&e%2===0},l.odd=function(e){return l.infinite(e)||l.number(e)&&e===e&&e%2!==0},l.ge=function(e,t){if(u(e)||u(t))throw new TypeError("NaN is not a valid value");return!l.infinite(e)&&!l.infinite(t)&&e>=t},l.gt=function(e,t){if(u(e)||u(t))throw new TypeError("NaN is not a valid value");return!l.infinite(e)&&!l.infinite(t)&&e>t},l.le=function(e,t){if(u(e)||u(t))throw new TypeError("NaN is not a valid value");return!l.infinite(e)&&!l.infinite(t)&&e<=t},l.lt=function(e,t){if(u(e)||u(t))throw new TypeError("NaN is not a valid value");return!l.infinite(e)&&!l.infinite(t)&&e<t},l.within=function(e,t,n){if(u(e)||u(t)||u(n))throw new TypeError("NaN is not a valid value");if(!l.number(e)||!l.number(t)||!l.number(n))throw new TypeError("all arguments must be numbers");var r=l.infinite(e)||l.infinite(t)||l.infinite(n);return r||e>=t&&e<=n},l.object=function(e){return"[object Object]"===i.call(e)},l.primitive=function(e){return!e||!("object"==typeof e||l.object(e)||l.fn(e)||l.array(e))},l.hash=function(e){return l.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},l.regexp=function(e){return"[object RegExp]"===i.call(e)},l.string=function(e){return"[object String]"===i.call(e)},l.base64=function(e){return l.string(e)&&(!e.length||a.test(e))},l.hex=function(e){return l.string(e)&&(!e.length||f.test(e))},l.symbol=function(e){return"function"==typeof Symbol&&"[object Symbol]"===i.call(e)&&"symbol"==typeof n.call(e)},e.exports=l},function(e,t,n){var r=n(10),o=n(15),i=n(12);e.exports=function(e,t){if(!e)throw new Error("Cant load nothing...");r.string(e)&&(e={src:e});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;e.src&&0===e.src.indexOf("//")&&(e.src=n?"https:"+e.src:"http:"+e.src),n&&e.https?e.src=e.https:!n&&e.http&&(e.src=e.http);var u=document.createElement("iframe");return u.src=e.src,u.width=e.width||1,u.height=e.height||1,u.style.display="none",r.fn(t)&&o(u,t),i(function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(u,e)}),u}},function(e,t,n){(function(t,n){"use strict";var r,o;r=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},o=function(e){var t,n=document.createTextNode(""),o=0;return new e(function(){var e;if(t)return e=t,t=null,"function"==typeof e?void e():void e.forEach(function(e){e()})}).observe(n,{characterData:!0}),function(e){return r(e),t?void("function"==typeof t?t=[t,e]:t.push(e)):(t=e,void(n.data=o=++o%2))}},e.exports=function(){if("undefined"!=typeof t&&t&&"function"==typeof t.nextTick)return t.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return o(MutationObserver);if("function"==typeof WebKitMutationObserver)return o(WebKitMutationObserver)}return"function"==typeof n?function(e){n(r(e))}:"function"==typeof setTimeout?function(e){setTimeout(r(e),0)}:null}()}).call(t,n(3),n(18).setImmediate)},function(e,t){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,c,a=n(e),f=1;f<arguments.length;f++){r=Object(arguments[f]);for(var l in r)i.call(r,l)&&(a[l]=r[l]);if(o){c=o(r);for(var s=0;s<c.length;s++)u.call(r,c[s])&&(a[c[s]]=r[c[s]])}}return a}},function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[i(t,e),"[",r,"]"].join(""):[i(t,e),"[",i(r,e),"]=",i(n,e)].join("")};case"bracket":return function(t,n){return null===n?i(t,e):[i(t,e),"[]=",i(n,e)].join("")};default:return function(t,n){return null===n?i(t,e):[i(t,e),"=",i(n,e)].join("")}}}function o(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){return t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),void(r[e][t[1]]=n)):void(r[e]=n)};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){return void 0===n[e]?void(n[e]=t):void(n[e]=[].concat(n[e],t))}}}function i(e,t){return t.encode?t.strict?c(e):encodeURIComponent(e):e}function u(e){return Array.isArray(e)?e.sort():"object"==typeof e?u(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var c=n(17),a=n(13);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=a({arrayFormat:"none"},t);var n=o(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),n(decodeURIComponent(o),i,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=u(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){var n={encode:!0,strict:!0,arrayFormat:"none"};t=a(n,t);var o=r(t);return e?Object.keys(e).sort().map(function(n){var r=e[n];if(void 0===r)return"";if(null===r)return i(n,t);if(Array.isArray(r)){var u=[];return r.slice().forEach(function(e){void 0!==e&&u.push(o(n,e,u.length))}),u.join("&")}return i(n,t)+"="+i(r,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t){function n(e,t){e.addEventListener("load",function(e,n){t(null,n)},!1),e.addEventListener("error",function(n){var r=new Error('script error "'+e.src+'"');r.event=n,t(r)},!1)}function r(e,t){e.attachEvent("onreadystatechange",function(n){/complete|loaded/.test(e.readyState)&&t(null,n)}),e.attachEvent("onerror",function(n){var r=new Error('failed to load the script "'+e.src+'"');r.event=n||window.event,t(r)})}e.exports=function(e,t){return e.addEventListener?n(e,t):r(e,t)}},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return v[m]=r,p(m),m++}function o(e){delete v[e]}function i(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function u(e){if(g)setTimeout(u,0,e);else{var t=v[e];if(t){g=!0;try{i(t)}finally{o(e),g=!1}}}}function c(){p=function(e){t.nextTick(function(){u(e)})}}function a(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function f(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&u(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),p=function(n){e.postMessage(t+n,"*")}}function l(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;u(t)},p=function(t){e.port2.postMessage(t)}}function s(){var e=h.documentElement;p=function(t){var n=h.createElement("script");n.onreadystatechange=function(){u(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function d(){p=function(e){setTimeout(u,0,e)}}if(!e.setImmediate){var p,m=1,v={},g=!1,h=e.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,"[object process]"==={}.toString.call(e.process)?c():a()?f():e.MessageChannel?l():h&&"onreadystatechange"in h.createElement("script")?s():d(),y.setImmediate=r,y.clearImmediate=o}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(t,function(){return this}(),n(3))},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(16),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate}])});