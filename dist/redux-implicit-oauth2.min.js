!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ReduxImplicitOAuth2=t():e.ReduxImplicitOAuth2=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.authReducer=t.authMiddleware=t.logout=t.login=t.LOGOUT=t.LOGIN_FAILURE=t.LOGIN_SUCCESS=t.LOGIN_REQUEST=void 0;var o=n(1),i=n(3),u=r(i),c=n(5),a=r(c);t.LOGIN_REQUEST=o.LOGIN_REQUEST,t.LOGIN_SUCCESS=o.LOGIN_SUCCESS,t.LOGIN_FAILURE=o.LOGIN_FAILURE,t.LOGOUT=o.LOGOUT,t.login=o.login,t.logout=o.logout,t.authMiddleware=u.default,t.authReducer=a.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.logout=t.login=t.LOGOUT=t.LOGIN_FAILURE=t.LOGIN_SUCCESS=t.LOGIN_REQUEST=void 0;var o=n(4),i=r(o),u=t.LOGIN_REQUEST="LOGIN_REQUEST",c=t.LOGIN_SUCCESS="LOGIN_SUCCESS",a=t.LOGIN_FAILURE="LOGIN_FAILURE",l=t.LOGOUT="LOGOUT",s=function(){return{type:u}},f=function(e,t){return{type:c,token:e,expiresAt:t}},d=function(e){return{type:a,error:e}};t.login=function(e){return function(t){return t(s()),(0,i.default)(e).then(function(e){var n=e.token,r=e.expiresAt;return t(f(n,r))},function(e){return t(d(e))})}},t.logout=function(){return{type:l}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="token",r="expiresAt",o=t.getExpiresAt=function(){return window.localStorage.getItem(r)||null},i=(t.hasToken=function(){return null!==i()},t.getToken=function(){var e=o();return null===e||e>(new Date).getTime()?window.localStorage.getItem(n)||null:null});t.setToken=function(e,t){window.localStorage.setItem(n,e),window.localStorage.setItem(r,t)},t.removeToken=function(){window.localStorage.removeItem(n),window.localStorage.removeItem(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1),i=function(){return function(e){return function(t){switch(t.type){case o.LOGIN_SUCCESS:(0,r.setToken)(t.token,t.expiresAt);break;case o.LOGIN_FAILURE:case o.LOGOUT:(0,r.removeToken)()}return e(t)}}};t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=r(o),u=n(7),c=r(u),a=n(6),l=r(a),s=function e(t,n,r,o){var u=void 0;try{u=t.location.hash}catch(e){}if(u){t.close();var c=i.default.parse(u.substr(1));if(c.state!==n&&o("Invalid state returned."),c.access_token){var a=c.expires_in?parseInt(c.expires_in):NaN,l={token:c.access_token,expiresAt:isNaN(a)?null:(new Date).getTime()+1e3*a};r(l)}else o(c.error||"Unknown error.")}else t.closed?o("Authentication was cancelled."):setTimeout(function(){return e(t,n,r,o)},100)},f=function(e){var t=(0,c.default)(),n=i.default.stringify({state:t,response_type:"token",client_id:e.client,scope:e.scope,redirect_uri:e.redirect}),r=(0,l.default)(e.url+(e.url.indexOf("?")===-1?"?":"&")+n,"oauth2");return new Promise(function(e,n){return s(r,t,e,n)})};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(2),i=n(1),u={isLoggedIn:(0,o.hasToken)(),token:(0,o.getToken)(),expiresAt:(0,o.getExpiresAt)(),error:null},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case i.LOGIN_SUCCESS:return r({},e,{isLoggedIn:!0,token:t.token,expiresAt:t.expiresAt,error:null});case i.LOGIN_FAILURE:return r({},e,{isLoggedIn:!1,token:null,expiresAt:null,error:t.error});case i.LOGOUT:return r({},e,{isLoggedIn:!1,token:null,expiresAt:null,error:null});default:return e}};t.default=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="scrollbars=no,toolbar=no,location=no,titlebar=no,directories=no,status=no,menubar=no",r=function(e,t){var n=window.screenLeft||window.screenX,r=window.screenTop||window.screenY,o=n+window.innerWidth/2-e/2,i=r+window.innerHeight/2-t/2;return"width="+e+",height="+t+",top="+i+",left="+o},o=function(e,t){return window.open(e,t,n+","+r(400,400))};t.default=o},function(e,t,n){!function(t){"use strict";var n="cuid",r=0,o=4,i=36,u=Math.pow(i,o),c=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},a=function(){return c((Math.random()*u<<0).toString(i),o)},l=function(){return r=r<u?r:0,r++,r-1},s=function(){var e,t="c",n=(new Date).getTime().toString(i),r=s.fingerprint(),u=a()+a();return e=c(l().toString(i),o),t+n+e+r+u};s.slug=function(){var e,t=(new Date).getTime().toString(36),n=s.fingerprint().slice(0,1)+s.fingerprint().slice(-1),r=a().slice(-2);return e=l().toString(36).slice(-4),t.slice(-2)+e+n+r},s.globalCount=function(){var e=function(){var e,t=0;for(e in window)t++;return t}();return s.globalCount=function(){return e},e},s.fingerprint=function(){return c((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+s.globalCount().toString(36),4)},t.register?t.register(n,s):e.exports=s}(this.applitude||this)},function(e,t){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,c,a=n(e),l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var s in r)i.call(r,s)&&(a[s]=r[s]);if(o){c=o(r);for(var f=0;f<c.length;f++)u.call(r,c[f])&&(a[c[f]]=r[c[f]])}}return a}},function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[i(t,e),"[",r,"]"].join(""):[i(t,e),"[",i(r,e),"]=",i(n,e)].join("")};case"bracket":return function(t,n){return null===n?i(t,e):[i(t,e),"[]=",i(n,e)].join("")};default:return function(t,n){return null===n?i(t,e):[i(t,e),"=",i(n,e)].join("")}}}function o(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){return t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),void(r[e][t[1]]=n)):void(r[e]=n)};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){return void 0===n[e]?void(n[e]=t):void(n[e]=[].concat(n[e],t))}}}function i(e,t){return t.encode?t.strict?c(e):encodeURIComponent(e):e}function u(e){return Array.isArray(e)?e.sort():"object"==typeof e?u(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var c=n(10),a=n(8);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=a({arrayFormat:"none"},t);var n=o(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),n(decodeURIComponent(o),i,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=u(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){var n={encode:!0,strict:!0,arrayFormat:"none"};t=a(n,t);var o=r(t);return e?Object.keys(e).sort().map(function(n){var r=e[n];if(void 0===r)return"";if(null===r)return i(n,t);if(Array.isArray(r)){var u=[];return r.slice().forEach(function(e){void 0!==e&&u.push(o(n,e,u.length))}),u.join("&")}return i(n,t)+"="+i(r,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}}])});